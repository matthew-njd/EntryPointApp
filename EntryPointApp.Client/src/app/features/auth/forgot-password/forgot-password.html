<div class="mt-28">
  <h2 class="text-3xl text-center mb-4">EntryPoint, a Timesheet App</h2>

  <div class="w-md mx-auto mt-8">
    <button class="btn btn-sm btn-primary" (click)="goBack()">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="20"
        height="20"
        viewBox="0 0 24 24"
      >
        <path
          fill="currentColor"
          d="m7.825 13l4.9 4.9q.3.3.288.7t-.313.7q-.3.275-.7.288t-.7-.288l-6.6-6.6q-.15-.15-.213-.325T4.426 12t.063-.375t.212-.325l6.6-6.6q.275-.275.688-.275t.712.275q.3.3.3.713t-.3.712L7.825 11H19q.425 0 .713.288T20 12t-.288.713T19 13z"
        />
      </svg>
      Back
    </button>
  </div>

  <fieldset
    class="fieldset bg-base-200 border-base-300 rounded-box w-md mx-auto border p-4"
  >
    <legend class="fieldset-legend">Reset Password</legend>

    <form [formGroup]="forgotPasswordForm" (ngSubmit)="onSubmit()">
      <label class="label">Email*</label>
      <input
        type="email"
        class="input w-full"
        placeholder="Email"
        formControlName="email"
        [class.input-error]="email?.invalid && email?.touched"
      />
      @if (email?.invalid && email?.touched) {
        <div class="text-error text-sm mt-1">
          @if (email?.errors?.["required"]) {
            <span>Email is required</span>
          }
          @if (email?.errors?.["email"]) {
            <span>Invalid email format</span>
          }
        </div>
      }

      <button
        type="submit"
        class="btn btn-neutral mt-4 w-full"
        [disabled]="isSubmitting"
      >
        @if (isSubmitting) {
          <span class="loading loading-spinner loading-md"></span>
          Sending...
        } @else {
          Send Reset Link
        }
      </button>
    </form>
  </fieldset>

  <div class="flex justify-end w-md mx-auto mt-2">
    <a
      class="btn btn-soft btn-xs btn-secondary"
      href="mailto:it@pcfsouvenirs.com"
      >Support</a
    >
  </div>
</div>
